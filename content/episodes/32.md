---
---

## Descrizione

In questa puntata esploriamo il deploy di applicazioni PHP senza farci venire un esaurimento nervoso. Parliamo di Doku, il PaaS open source che trasforma la tua VPS in un Heroku fai-da-te, e di Bref, la libreria che ti permette di deployare Laravel e Symfony su AWS Lambda senza dover rinunciare alla tua sanità mentale. Scopriamo come passare dall'FTP su Aruba (argh) al serverless senza toccare Kubernetes con un bastone da tre metri.

## Takeaway

- **Doku è Heroku per poveri (nel senso buono)**: Open source, installabile su una VPS DigitalOcean con un click, deploy via git push, supporta plugin per MySQL/Redis/Elasticsearch, certificati Let's Encrypt automatici. Tutto il bello di Heroku senza i costi folli.
- **Doku scala solo verticalmente**: Il limite è che puoi solo aumentare RAM/CPU della VPS, non aggiungere nodi. Per scalare orizzontalmente devi mettere un load balancer e gestire deploy multipli, perdendo tutta la semplicità.
- **PHP su Lambda è ironico ma sensato**: PHP è nato per il paradigma request-response, è share-nothing per design, eppure AWS non lo supporta nativamente. Ma grazie ai layer custom è possibile farlo girare, e funziona benissimo.
- **Bref è il ponte tra Laravel/Symfony e Lambda**: Usa il Serverless Framework, mette a disposizione runtime PHP (7.2-8.0 sperimentale), permette di deployare monoliti o funzioni, gestisce comandi Artisan/Symfony Console via CLI.
- **Cold start è 0.5% del tempo di risposta**: Con 512MB di RAM, Symfony impiega 4ms per il boot. È quasi impercettibile rispetto ai veri problemi di performance. Il mito del cold start come scusa per non usare serverless è spesso esagerato.

## Bold Opinion

- **Il futuro è "infrastructure as a framework"**: I framework diventeranno la colla tra infrastruttura e business logic. Il routing? API Gateway. Il messaging? SQS/SNS. I framework si concentreranno solo sulla logica applicativa, delegando tutto il resto ai servizi cloud.
- **Deployare Laravel su Lambda è una contraddizione utile**: È un monolito che gira in un contesto serverless, ma va bene così. Gli sviluppatori vogliono essere dev, non ops. Vogliono scrivere codice che genera valore, non configurare Kubernetes.
- **Serverless non è solo per microservizi**: Puoi deployare il tuo bel monolito Laravel/Symfony su Lambda usando PHPFPM, ed è perfettamente accettabile come punto di partenza per avvicinarsi al cloud native senza riscrivere tutto da zero.

