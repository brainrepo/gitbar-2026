---
---

## Descrizione

In questa puntata parliamo di testing, quella cosa che tutti sanno essere importante ma che nessuno vuole fare perché "rallenta lo sviluppo". Discutiamo del perché testare ci fa sentire vulnerabili (ammettere che possiamo sbagliare? Mai!), di come la Testing Pyramid diventi spesso un gelato con una nuvoletta di test manuali sopra, e di un nuovo approccio che parte dalle user stories invece che dagli unit test compulsivi. Presentiamo anche Cypress, il tool di testing che finalmente ha un po' di sex appeal.

## Takeaway

- **Testare non è sexy, ma serve**: I programmatori hanno un ego grosso e scrivere test vuol dire ammettere di essere fallibili. Ma quando il software cresce, fare test manuali diventa un incubo e ti paralizza la paura di rompere tutto.
- **La Testing Pyramid vs il Gelato**: In teoria dovremmo avere tanti unit test alla base, meno integration test al centro, e pochi test end-to-end in cima. In pratica finiamo con una "testing pyramid ice cream" dove sopra la piramide c'è una nuvoletta gigante di test manuali.
- **Testare solo ciò che può fallire**: Non serve testare compulsivamente tutto e coprire 100% del codice. Bisogna testare ciò che potrebbe veramente rompersi, evitando di ritestare lo stesso blocco più volte.
- **Nuovo approccio: dalle user stories alla code coverage**: Iniziare con linter (Prettier, ESLint, TS-check), poi scrivere test end-to-end basati sulle user stories, usare Istanbul per vedere la code coverage, e scrivere unit test solo dove serve per coprire le aree critiche non toccate.
- **Cypress è il tool modaiolo del testing**: Gira su Chrome headless, permette time traveling per il debug, registra video dei test, può modificare lo stato dell'app React direttamente, e copre tutto: API, componenti, accessibilità. Finalmente un tool di testing con sex appeal.

## Bold Opinion

- **La code coverage al 100% è una vanità inutile**: Raggiungere il 100% ti fa sentire figo ma è uno spreco di tempo. Usa la code coverage per trovare le aree NON coperte che sono davvero critiche, non per vantarti di un numero.
- **I test sono una rete anticaduta, non un ponteggio**: Non sono qualcosa che monti e poi togli via. Sono i materiali con cui costruisci il palazzo, non l'impalcatura temporanea.
- **Il cliente non capisce il valore dei test, ma gli sviluppatori nemmeno**: Da una parte il cliente non percepisce l'utilità, dall'altra lo sviluppatore pensa "so che funziona, l'ho già provato". Entrambi sbagliano.

